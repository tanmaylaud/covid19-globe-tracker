(this["webpackJsonpcovid19-globe-tracker"]=this["webpackJsonpcovid19-globe-tracker"]||[]).push([[0],{102:function(e,t,n){},106:function(e,t,n){"use strict";n.r(t);var a=n(20),r=n(1),o=n.n(r),c=(n(97),n(4)),i=n.n(c),s=n(74),l=n(13),p=n(73),u=(n(71),n(19)),d="https://raw.githubusercontent.com/nvkelso/natural-earth-vector/master/geojson/ne_110m_admin_0_countries.geojson",m="https://covid3d-backend.now.sh";function v(e){return f.apply(this,arguments)}function f(){return(f=Object(l.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function g(){return h.apply(this,arguments)}function h(){return(h=Object(l.a)(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v("https://geolocation-db.com/json/");case 3:return t=e.sent,n=t.latitude,a=t.longitude,e.abrupt("return",{latitude:n,longitude:a});case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function b(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var w;w=navigator.userAgent||navigator.vendor||window.opera,/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(w)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(w.substr(0,4));var y=n(8),k=function e(){Object(y.a)(this,e)};k.totalConfirmed=0,k.totalDeaths=0,k.totalRecoveries=0,k.totalActive=0,k.set=void 0;var E,j=function(e){return Math.pow(e.covidData.active/e.properties.POP_EST,1/4)},x=Object(u.c)(u.b);function O(){var e=document.getElementById("globeViz");E=Object(p.a)()(e).globeImageUrl("//cdn.jsdelivr.net/npm/three-globe/example/img/earth-dark.jpg").backgroundImageUrl("//cdn.jsdelivr.net/npm/three-globe/example/img/night-sky.png").showGraticules(!1).polygonAltitude(.06).showAtmosphere(!1).polygonCapColor((function(e){return x(j(e))})).polygonSideColor((function(){return"rgba(100, 100, 100, 0.05)"})).polygonStrokeColor((function(){return"#ffff"})).polygonLabel((function(e){var t=e.properties,n=e.covidData;return function(e,t,n){return'\n        <div class="card">\n          <img class="card-img" src="'.concat("https://corona.lmao.ninja/assets/img/flags","/").concat(e,'.png" alt="flag" />\n          <div class="container">\n             <span class="card-title"><b>').concat(t.NAME,'</b></span> <br />\n             <div class="card-spacer"></div>\n             <hr />\n             <div class="card-spacer"></div>\n             <span>Cases: ').concat(b(n.confirmed),"</span>  <br />\n             <span>Deaths: ").concat(b(n.deaths),"</span> <br />\n             <span>Recovered: ").concat(b(n.recoveries),"</span> <br />\n             <span>Population: ").concat(Object(u.a)(".3s")(t.POP_EST),"</span>\n          </div>\n        </div>\n      ")}("France"===t.ADMIN?"fr":t.ISO_A2.toLowerCase(),t,n)})).onPolygonHover((function(e){return E.polygonAltitude((function(t){return t===e?.1:.06})).polygonCapColor((function(t){return t===e?"yellow":x(j(t))}))})).polygonsTransitionDuration(200),function(){z.apply(this,arguments)}(),window.addEventListener("resize",(function(e){E.width(window.innerWidth),E.height(window.innerHeight)}))}var C,D,N=[];function z(){return(z=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(m);case 2:return C=e.sent,e.next=5,v(d);case 5:D=e.sent.features,N=Object.keys(C.China),A(),I(),S();case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){var e=0,t=0,n=0,a=N.length-1;Object.keys(C).forEach((function(r){if(C[r][N[a]]){var o=C[r][N[a]];e+=+o.confirmed,t+=+o.deaths,n+=o.recoveries?+o.recoveries:0}})),k.totalConfirmed=e,k.totalDeaths=t,k.totalRecoveries=n,k.totalActive=e-n-t,k.set=!0}function I(){for(var e=N.length-1,t=0;t<D.length;t++){var n=D[t].properties.NAME;C[n]?D[t].covidData={confirmed:C[n][N[e]].confirmed,deaths:C[n][N[e]].deaths,recoveries:C[n][N[e]].recoveries,active:C[n][N[e]].confirmed-C[n][N[e]].deaths-C[n][N[e]].recoveries}:D[t].covidData={confirmed:0,deaths:0,recoveries:0,active:0}}var a=Math.max.apply(Math,Object(s.a)(D.map(j)));x.domain([0,a]),E.polygonsData(D)}function S(){return T.apply(this,arguments)}function T(){return(T=Object(l.a)(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g();case 3:t=e.sent,n=t.latitude,a=t.longitude,E.pointOfView({lat:n,lng:a},1e3),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Unable to set point of view.");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function _(e){var t=e.count,n=Object(r.useState)(0),c=Object(a.a)(n,2),i=c[0],s=c[1];return Object(r.useEffect)((function(){i!=t&&(t-t<=200&&s(i+1),s(t-i<=1e3?i+100:i<1e4?i+1e3:i+1e4))}),[i]),o.a.createElement(o.a.Fragment,null,i.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))}n(102);function M(e){return e.loaded?null:o.a.createElement("div",{className:"spinbody"},o.a.createElement("div",{className:"spinner"}),o.a.createElement("p",{style:{position:"absolute",left:"40%",bottom:"50px"}},"Loading latest data..."))}function F(){var e=Object(r.useState)([]),t=Object(a.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)(!1),i=Object(a.a)(c,2),s=i[0],l=i[1];return Object(r.useEffect)((function(){return O()}),[]),Object(r.useEffect)((function(){setTimeout((function(){return l(!0)}),5e3)}),[]),Object(r.useEffect)((function(){setTimeout((function(){var e=[];e.push(k.totalConfirmed),e.push(k.totalDeaths),e.push(k.totalRecoveries),e.push(k.totalActive),o(e)}),3e3)}),[k.set]),r.createElement(r.Fragment,null,r.createElement("div",{id:"globeViz"}),r.createElement("div",{className:"top-info-container"},r.createElement("div",{className:"title"},"COVID-19 Globe Tracker"),r.createElement("div",{className:"title-desc"},"Hover on a country or territory to see cases, deaths, and recoveries.")),r.createElement("div",{className:"bottom-info-container"},r.createElement("span",{className:"gradient-container"},"LOW",r.createElement("div",{className:"gradient"}),"HIGH"),r.createElement(M,{loaded:k.set||s}),k.set?r.createElement(r.Fragment,null,r.createElement("div",{style:{fontSize:"14px",color:"#ccd6f6",marginTop:"35px"}},"Total Counts ",r.createElement("span",{className:"updated"})),r.createElement("div",{style:{color:"#e6f1ff",padding:"0 5px"}},r.createElement("span",{id:"infected"},"INFECTED:",r.createElement(_,{count:n[0]})),r.createElement("span",{id:"deaths"}," ","\u2022 DEATHS:",r.createElement(_,{count:n[1]})),r.createElement("span",{id:"recovered"}," ","\u2022 RECOVERED:",r.createElement(_,{count:n[2]})),r.createElement("span",{id:"active"}," ","\u2022 ACTIVE:",r.createElement(_,{count:n[3]})))):null,r.createElement("div",{className:"moreInfo",style:{marginTop:"5px"}},r.createElement("a",{href:"https://github.com/tanmaylaud/covid19-globe-tracker",rel:"noopener noreferrer",target:"_BLANK",style:{color:"yellow",textDecoration:"none"}},"Click For More Information"))))}var H=n(72),L=document.getElementById("root");Object(H.render)(o.a.createElement(F,null),L)},95:function(e,t,n){e.exports=n(106)},97:function(e,t,n){}},[[95,1,2]]]);
//# sourceMappingURL=main.d642bc3c.chunk.js.map